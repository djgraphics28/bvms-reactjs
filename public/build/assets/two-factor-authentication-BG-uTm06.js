import{K as p,m as g,j as e,L as b}from"./app-DzLkzM4F.js";import{B as o}from"./app-logo-icon-ChVwBK3I.js";import{A as j}from"./app-layout-CpW0fXpw.js";import{S as w,H as y}from"./layout-tsTy1wq9.js";import{z as f}from"./transition-CuXNpx7Z.js";import"./index-Dswu1To4.js";import"./index-sdvXgxpl.js";import"./index-Dh2z54Pa.js";const v=[{title:"Two-Factor Authentication",href:"/settings/two-factor-authentication"}];function L(){const{auth:t}=p().props,{post:r,delete:c,processing:s,recentlySuccessful:i}=g(),d=t.user.two_factor_enabled,a=t.user.qr_code_svg||null,n=t.user.recovery_codes||[],l=()=>r(route("two-factor.enable")),m=()=>c(route("two-factor.disable")),u=()=>r(route("two-factor.regenerate-recovery-codes"));return e.jsxs(j,{breadcrumbs:v,children:[e.jsx(b,{title:"Two-Factor Authentication"}),e.jsx(w,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(y,{title:"Two-Factor Authentication",description:"Add extra security to your account using two-factor authentication."}),d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-green-50 border border-green-200 p-4 rounded",children:e.jsxs("p",{className:"text-green-800",children:["Two-factor authentication is ",e.jsx("strong",{children:"enabled"}),"."]})}),a&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Scan this QR code with your authenticator app:"}),e.jsx("div",{className:"p-4 border rounded bg-white inline-block",dangerouslySetInnerHTML:{__html:a}})]}),n.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Recovery codes:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 font-mono bg-gray-100 p-4 rounded",children:n.map((h,x)=>e.jsx("span",{children:h},x))}),e.jsx(o,{className:"mt-4",onClick:u,disabled:s,children:"Regenerate Recovery Codes"})]}),e.jsx(o,{variant:"destructive",className:"mt-6",onClick:m,disabled:s,children:"Disable Two-Factor Authentication"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded",children:e.jsxs("p",{className:"text-yellow-800",children:["Two-factor authentication is currently ",e.jsx("strong",{children:"disabled"}),"."]})}),e.jsx(o,{className:"mt-4",onClick:l,disabled:s,children:"Enable Two-Factor Authentication"})]}),e.jsx(f,{show:i,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-green-600 mt-4",children:"Changes saved successfully."})})]})})]})}export{L as default};
