import{r as t,j as e}from"./app-BcS5GEC7.js";import{L as j,G as D,M as m,D as v}from"./esm-DHG-CScH.js";import"./index-BPzKiO1Q.js";const E="AIzaSyC_WZ0T_FCfAV_G1yfuBGozFa2zOX9l82c",M={width:"100%",height:"100vh"},_=({incident:r})=>{const[o,x]=t.useState(null),[a,f]=t.useState(null),[c,h]=t.useState(""),[l,S]=t.useState(""),i={lat:parseFloat(r.latitude),lng:parseFloat(r.longitude)};return t.useEffect(()=>{navigator.geolocation.getCurrentPosition(s=>{x({lat:s.coords.latitude,lng:s.coords.longitude})},s=>{console.error("Error getting user location:",s)})},[]),t.useEffect(()=>{o&&new google.maps.DirectionsService().route({origin:o,destination:i,travelMode:google.maps.TravelMode.DRIVING},(n,d)=>{var p,g;if(d===google.maps.DirectionsStatus.OK&&n){f(n);const u=n.routes[0].legs[0];h(((p=u.distance)==null?void 0:p.text)||""),S(((g=u.duration)==null?void 0:g.text)||"")}else console.error("Directions request failed due to "+d)})},[o,i]),e.jsxs(j,{googleMapsApiKey:E,children:[e.jsxs(D,{mapContainerStyle:M,center:o||i,zoom:14,children:[o&&e.jsx(m,{position:o,label:"You",icon:{url:"https://maps.google.com/mapfiles/ms/icons/blue-dot.png"}}),e.jsx(m,{position:i,label:"Incident",icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png"}}),a&&e.jsx(v,{directions:a})]}),c&&l&&e.jsxs("div",{style:{padding:"10px"},children:[e.jsx("h3",{children:"Route Information"}),e.jsxs("p",{children:["Distance: ",c]}),e.jsxs("p",{children:["Estimated Travel Time: ",l]})]})]})};export{_ as default};
