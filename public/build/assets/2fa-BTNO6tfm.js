import{r as c,j as l,R as I,K as $,m as F,L as O}from"./app-BmTBJxZi.js";import{a as g,B as L}from"./app-logo-icon-we7SExpV.js";import"./index-Cc2TY-u9.js";import{A as M}from"./app-layout-CL_Z5kYk.js";import{S as W,H as D}from"./heading-small-d2LkbUZQ.js";import{z as V}from"./transition-bbQwx238.js";import"./index--J07tQQR.js";import"./index-D1RxZ5gl.js";function U(e,t,{checkForDefaultPrevented:o=!0}={}){return function(n){if(e==null||e(n),o===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}function C(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function k(...e){return t=>{let o=!1;const r=e.map(n=>{const s=C(n,t);return!o&&typeof s=="function"&&(o=!0),s});if(o)return()=>{for(let n=0;n<r.length;n++){const s=r[n];typeof s=="function"?s():C(e[n],null)}}}}function _(...e){return c.useCallback(k(...e),e)}function H(e,t=[]){let o=[];function r(s,a){const i=c.createContext(a),u=o.length;o=[...o,a];const d=p=>{var w;const{scope:h,children:m,...b}=p,x=((w=h==null?void 0:h[e])==null?void 0:w[u])||i,v=c.useMemo(()=>b,Object.values(b));return l.jsx(x.Provider,{value:v,children:m})};d.displayName=s+"Provider";function f(p,h){var x;const m=((x=h==null?void 0:h[e])==null?void 0:x[u])||i,b=c.useContext(m);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[d,f]}const n=()=>{const s=o.map(a=>c.createContext(a));return function(i){const u=(i==null?void 0:i[e])||s;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:u}}),[i,u])}};return n.scopeName=e,[r,q(n,...t)]}function q(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const r=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(s){const a=r.reduce((i,{useScope:u,scopeName:d})=>{const p=u(s)[`__scope${d}`];return{...i,...p}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return o.scopeName=t.scopeName,o}var j=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},K=I[" useInsertionEffect ".trim().toString()]||j;function X({prop:e,defaultProp:t,onChange:o=()=>{},caller:r}){const[n,s,a]=Z({defaultProp:t,onChange:o}),i=e!==void 0,u=i?e:n;{const f=c.useRef(e!==void 0);c.useEffect(()=>{const p=f.current;p!==i&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=i},[i,r])}const d=c.useCallback(f=>{var p;if(i){const h=G(f)?f(e):f;h!==e&&((p=a.current)==null||p.call(a,h))}else s(f)},[i,e,s,a]);return[u,d]}function Z({defaultProp:e,onChange:t}){const[o,r]=c.useState(e),n=c.useRef(o),s=c.useRef(t);return K(()=>{s.current=t},[t]),c.useEffect(()=>{var a;n.current!==o&&((a=s.current)==null||a.call(s,o),n.current=o)},[o,n]),[o,r,s]}function G(e){return typeof e=="function"}function J(e){const t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Q(e){const[t,o]=c.useState(void 0);return j(()=>{if(e){o({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const s=n[0];let a,i;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,i=d.blockSize}else a=e.offsetWidth,i=e.offsetHeight;o({width:a,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else o(void 0)},[e]),t}function Y(e){const t=ee(e),o=c.forwardRef((r,n)=>{const{children:s,...a}=r,i=c.Children.toArray(s),u=i.find(ne);if(u){const d=u.props.children,f=i.map(p=>p===u?c.Children.count(d)>1?c.Children.only(null):c.isValidElement(d)?d.props.children:null:p);return l.jsx(t,{...a,ref:n,children:c.isValidElement(d)?c.cloneElement(d,void 0,f):null})}return l.jsx(t,{...a,ref:n,children:s})});return o.displayName=`${e}.Slot`,o}function ee(e){const t=c.forwardRef((o,r)=>{const{children:n,...s}=o;if(c.isValidElement(n)){const a=re(n),i=oe(s,n.props);return n.type!==c.Fragment&&(i.ref=r?k(r,a):a),c.cloneElement(n,i)}return c.Children.count(n)>1?c.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var te=Symbol("radix.slottable");function ne(e){return c.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===te}function oe(e,t){const o={...t};for(const r in t){const n=e[r],s=t[r];/^on[A-Z]/.test(r)?n&&s?o[r]=(...i)=>{const u=s(...i);return n(...i),u}:n&&(o[r]=n):r==="style"?o[r]={...n,...s}:r==="className"&&(o[r]=[n,s].filter(Boolean).join(" "))}return{...e,...o}}function re(e){var r,n;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var se=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],P=se.reduce((e,t)=>{const o=Y(`Primitive.${t}`),r=c.forwardRef((n,s)=>{const{asChild:a,...i}=n,u=a?o:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(u,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),y="Switch",[ie,ge]=H(y),[ce,ae]=ie(y),R=c.forwardRef((e,t)=>{const{__scopeSwitch:o,name:r,checked:n,defaultChecked:s,required:a,disabled:i,value:u="on",onCheckedChange:d,form:f,...p}=e,[h,m]=c.useState(null),b=_(t,S=>m(S)),x=c.useRef(!1),v=h?f||!!h.closest("form"):!0,[w,z]=X({prop:n,defaultProp:s??!1,onChange:d,caller:y});return l.jsxs(ce,{scope:o,checked:w,disabled:i,children:[l.jsx(P.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":T(w),"data-disabled":i?"":void 0,disabled:i,value:u,...p,ref:b,onClick:U(e.onClick,S=>{z(B=>!B),v&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),v&&l.jsx(A,{control:h,bubbles:!x.current,name:r,value:u,checked:w,required:a,disabled:i,form:f,style:{transform:"translateX(-100%)"}})]})});R.displayName=y;var E="SwitchThumb",N=c.forwardRef((e,t)=>{const{__scopeSwitch:o,...r}=e,n=ae(E,o);return l.jsx(P.span,{"data-state":T(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:t})});N.displayName=E;var ue="SwitchBubbleInput",A=c.forwardRef(({__scopeSwitch:e,control:t,checked:o,bubbles:r=!0,...n},s)=>{const a=c.useRef(null),i=_(a,s),u=J(o),d=Q(t);return c.useEffect(()=>{const f=a.current;if(!f)return;const p=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==o&&m){const b=new Event("click",{bubbles:r});m.call(f,o),f.dispatchEvent(b)}},[u,o,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...n,tabIndex:-1,ref:i,style:{...n.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});A.displayName=ue;function T(e){return e?"checked":"unchecked"}var le=R,de=N;function fe({className:e,...t}){return l.jsx(le,{"data-slot":"switch",className:g("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(de,{"data-slot":"switch-thumb",className:g("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const pe=[{title:"Two-Factor Authentication",href:"/settings/two-factor-authentication"}];function Ce(){const{auth:e}=$().props,{data:t,setData:o,patch:r,processing:n,recentlySuccessful:s}=F({is_two_factor_enabled:e.user.is_two_factor_enabled??!1}),a=()=>{r(route("settings.2fa"))};return l.jsxs(M,{breadcrumbs:pe,children:[l.jsx(O,{title:"Two-Factor Authentication"}),l.jsx(W,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsx(D,{title:"Two-Factor Authentication",description:"Add extra security to your account by enabling email-based two-factor authentication."}),l.jsxs("div",{className:"flex items-center justify-between border p-4 rounded bg-white shadow-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Enable Two-Factor Authentication"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, a verification code will be sent to your email after login."})]}),l.jsx(fe,{checked:t.is_two_factor_enabled,onCheckedChange:i=>o("is_two_factor_enabled",i),disabled:n})]}),l.jsx(L,{onClick:a,disabled:n,variant:"default",children:"Save Changes"}),l.jsx(V,{show:s,enter:"transition ease-in-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:l.jsx("p",{className:"text-sm text-green-600 mt-4",children:"Two-factor authentication setting updated successfully."})})]})})]})}export{Ce as default};
